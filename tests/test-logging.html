<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ DataSave</title>
    
    <!-- Import Persian Font -->
    <link href="../assets/fonts/vazirmatn.css" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', 'Tahoma', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .test-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        .log-display {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            direction: ltr;
        }
        .btn-group {
            margin-bottom: 15px;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 8px;
        }
        .status-success { background-color: #28a745; }
        .status-warning { background-color: #ffc107; }
        .status-error { background-color: #dc3545; }
    </style>
</head>
<body>
    <div class="container">
        <div class="text-center mb-5">
            <h1 class="text-white mb-3">
                <i class="fas fa-file-alt me-3"></i>
                ØªØ³Øª Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ DataSave
            </h1>
            <p class="text-white-50 mb-0">Ø¢Ø²Ù…Ø§ÛŒØ´ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø³ÛŒØ³ØªÙ… Ø«Ø¨Øª Ù„Ø§Ú¯ Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„</p>
        </div>

        <!-- ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ… -->
        <div class="test-container">
            <h2 class="text-primary mb-4">
                <i class="fas fa-info-circle me-2"></i>
                ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…
            </h2>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5>Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø³Ø§Ø¯Ù‡</h5>
                            <span id="localStatus" class="status-indicator status-warning"></span>
                            <span id="localStatusText">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙØ§Ø±Ø³ÛŒ</h5>
                            <span id="persianStatus" class="status-indicator status-warning"></span>
                            <span id="persianStatusText">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5>Ø¹Ù…Ù„Ú©Ø±Ø¯</h5>
                            <span id="performanceStatus" class="status-indicator status-warning"></span>
                            <span id="performanceStatusText">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ -->
        <div class="test-container">
            <h2 class="text-success mb-4">
                <i class="fas fa-vial me-2"></i>
                ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ
            </h2>

            <div class="btn-group" role="group">
                <button class="btn btn-info" onclick="testDebugLog()">
                    <i class="fas fa-bug me-2"></i>
                    ØªØ³Øª DEBUG
                </button>
                <button class="btn btn-success" onclick="testInfoLog()">
                    <i class="fas fa-info me-2"></i>
                    ØªØ³Øª INFO
                </button>
                <button class="btn btn-warning" onclick="testWarnLog()">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    ØªØ³Øª WARNING
                </button>
                <button class="btn btn-danger" onclick="testErrorLog()">
                    <i class="fas fa-times-circle me-2"></i>
                    ØªØ³Øª ERROR
                </button>
                <button class="btn btn-dark" onclick="testFatalLog()">
                    <i class="fas fa-skull me-2"></i>
                    ØªØ³Øª FATAL
                </button>
            </div>

            <div class="btn-group" role="group">
                <button class="btn btn-primary" onclick="testBulkLogs()">
                    <i class="fas fa-list me-2"></i>
                    ØªØ³Øª Ø§Ù†Ø¨ÙˆÙ‡
                </button>
                <button class="btn btn-secondary" onclick="testPerformance()">
                    <i class="fas fa-tachometer-alt me-2"></i>
                    ØªØ³Øª Ø¹Ù…Ù„Ú©Ø±Ø¯
                </button>
                <button class="btn btn-outline-danger" onclick="testConsoleOnly()">
                    <i class="fas fa-terminal me-2"></i>
                    ÙÙ‚Ø· Ú©Ù†Ø³ÙˆÙ„
                </button>
            </div>

            <div id="testResults" class="log-display mt-3">
Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø´Ø¯...
            </div>
        </div>
    </div>

    <script src="../assets/js/modules/simple-logger.js"></script>
    <script>
        let testCounter = 0;

        // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…
        function checkSystemStatus() {
            // ÙˆØ¶Ø¹ÛŒØª Ù…Ø­Ù„ÛŒ
            if (window.Logger) {
                document.getElementById('localStatus').className = 'status-indicator status-success';
                document.getElementById('localStatusText').textContent = 'ÙØ¹Ø§Ù„';
            } else {
                document.getElementById('localStatus').className = 'status-indicator status-error';
                document.getElementById('localStatusText').textContent = 'ØºÛŒØ±ÙØ¹Ø§Ù„';
            }

            // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙØ§Ø±Ø³ÛŒ
            try {
                Logger.info('ØªØ³Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙØ§Ø±Ø³ÛŒ');
                document.getElementById('persianStatus').className = 'status-indicator status-success';
                document.getElementById('persianStatusText').textContent = 'Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯';
            } catch (error) {
                document.getElementById('persianStatus').className = 'status-indicator status-error';
                document.getElementById('persianStatusText').textContent = 'Ø®Ø·Ø§';
            }

            // Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯
            const startTime = performance.now();
            Logger.debug('ØªØ³Øª Ø¹Ù…Ù„Ú©Ø±Ø¯');
            const endTime = performance.now();
            
            if ((endTime - startTime) < 10) {
                document.getElementById('performanceStatus').className = 'status-indicator status-success';
                document.getElementById('performanceStatusText').textContent = 'Ø¹Ø§Ù„ÛŒ';
            } else {
                document.getElementById('performanceStatus').className = 'status-indicator status-warning';
                document.getElementById('performanceStatusText').textContent = 'Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„';
            }
        }

        // ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù„Ø§Ú¯
        function testDebugLog() {
            Logger.debug('Ø§ÛŒÙ† ÛŒÚ© Ù¾ÛŒØ§Ù… Ø§Ø´Ú©Ø§Ù„â€ŒØ²Ø¯Ø§ÛŒÛŒ Ø§Ø³Øª', { 
                test: 'debug_test', 
                counter: ++testCounter,
                persianText: 'Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ³Øª'
            });
            appendResult('âœ… Ù„Ø§Ú¯ DEBUG Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
        }

        function testInfoLog() {
            Logger.info('Ø§ÛŒÙ† ÛŒÚ© Ù¾ÛŒØ§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ø§Ø³Øª', { 
                test: 'info_test', 
                counter: ++testCounter,
                user: 'Ú©Ø§Ø±Ø¨Ø± ØªØ³Øª'
            });
            appendResult('â„¹ï¸ Ù„Ø§Ú¯ INFO Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
        }

        function testWarnLog() {
            Logger.warn('Ø§ÛŒÙ† ÛŒÚ© Ù¾ÛŒØ§Ù… Ù‡Ø´Ø¯Ø§Ø± Ø§Ø³Øª', { 
                test: 'warn_test', 
                counter: ++testCounter,
                warning: 'Ù‡Ø´Ø¯Ø§Ø± ØªØ³ØªÛŒ'
            });
            appendResult('âš ï¸ Ù„Ø§Ú¯ WARNING Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
        }

        function testErrorLog() {
            const testError = new Error('Ø§ÛŒÙ† ÛŒÚ© Ø®Ø·Ø§ÛŒ ØªØ³ØªÛŒ Ø§Ø³Øª');
            Logger.error('Ø®Ø·Ø§ÛŒ ØªØ³ØªÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡', testError, { 
                test: 'error_test', 
                counter: ++testCounter
            });
            appendResult('âŒ Ù„Ø§Ú¯ ERROR Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
        }

        function testFatalLog() {
            const fatalError = new Error('Ø®Ø·Ø§ÛŒ Ù…Ù‡Ù„Ú© ØªØ³ØªÛŒ');
            Logger.fatal('Ø®Ø·Ø§ÛŒ Ù…Ù‡Ù„Ú© Ø±Ø® Ø¯Ø§Ø¯Ù‡', fatalError, { 
                test: 'fatal_test', 
                counter: ++testCounter,
                system: 'critical'
            });
            appendResult('ğŸ’€ Ù„Ø§Ú¯ FATAL Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
        }

        function testBulkLogs() {
            appendResult('ğŸ”„ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ø§Ù†Ø¨ÙˆÙ‡...');
            
            for (let i = 1; i <= 10; i++) {
                const level = ['debug', 'info', 'warn', 'error'][Math.floor(Math.random() * 4)];
                Logger[level](`Ù¾ÛŒØ§Ù… ØªØ³Øª Ø§Ù†Ø¨ÙˆÙ‡ Ø´Ù…Ø§Ø±Ù‡ ${i}`, {
                    bulk_test: true,
                    index: i,
                    timestamp: new Date().getTime()
                });
            }
            
            appendResult('âœ… 10 Ù„Ø§Ú¯ Ø§Ù†Ø¨ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
        }

        function testPerformance() {
            appendResult('ğŸš€ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ø¹Ù…Ù„Ú©Ø±Ø¯...');
            const startTime = performance.now();
            
            for (let i = 1; i <= 100; i++) {
                Logger.info(`ØªØ³Øª Ø¹Ù…Ù„Ú©Ø±Ø¯ ${i}`, { performance_test: true, index: i });
            }
            
            const endTime = performance.now();
            const duration = (endTime - startTime).toFixed(2);
            appendResult(`âš¡ 100 Ù„Ø§Ú¯ Ø¯Ø± ${duration} Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯`);
        }

        function testConsoleOnly() {
            Logger.info('Ø§ÛŒÙ† Ù„Ø§Ú¯ ÙÙ‚Ø· Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
            Logger.warn('Ù‡Ø´Ø¯Ø§Ø±: Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ ÙÙ‚Ø· Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯');
            Logger.error('Ø®Ø·Ø§: Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ ÙØ§ÛŒÙ„ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯');
            appendResult('ğŸ–¥ï¸ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ ØªØ³ØªÛŒ ÙÙ‚Ø· Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù†Ø¯');
        }

        function appendResult(message) {
            const results = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString('fa-IR');
            results.textContent += `[${timestamp}] ${message}\n`;
            results.scrollTop = results.scrollHeight;
        }

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', function() {
            checkSystemStatus();
            
            // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡
            setInterval(checkSystemStatus, 10000);
            
            // Ù„Ø§Ú¯ Ø§ÙˆÙ„ÛŒÙ‡
            Logger.info('ØµÙØ­Ù‡ ØªØ³Øª Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø³Ø¨Ú© Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯', {
                page: 'test-logging.html',
                version: '1.0.0',
                user_agent: navigator.userAgent
            });
            
            appendResult('ğŸ¯ Ø³ÛŒØ³ØªÙ… ØªØ³Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª');
        });
    </script>
</body>
</html>